---
sidebar_position: 1
sidebar_label: Obsidian
---

# Obsidian Plugin Setup

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import Image from "@theme/IdealImage";
import ObAvailable from "@site/src/components/ob-check";
import { ManualAvailable, ReleaseLink } from "@site/src/components/manual-check";
import BRATAvailable from "@site/src/components/brat-check";
import { useDefaultMethod } from "@site/src/components/available";

## Install Plugin

<Tabs defaultValue="brat">
  <TabItem value="obsidian"  label="via Obsidian">
    <ObAvailable />

This is the recommended way to install the plugin.

1. Open `Settings` > `Community plugin`
2. Turn on community plugin
3. Open [plugin page](https://obsidian.md/plugins?id=obsidian-zotero-plugin) in obsidian
4. Click `Install`
5. Wait for installation to complete
6. Click `Enable`
7. Follow the [setup instructions](#basic-setup)


  </TabItem>
  <TabItem value="brat" label="via BRAT">

:::danger
Beta versions are not production-ready, make sure to make proper
backup before preceeding.
:::

<BRATAvailable />

You can use the Beta Reviewers Auto-update Tester (BRAT) plugin to install a pre-release version of the plugin.

1. Download [BRAT](https://obsidian.md/plugins?id=obsidian42-brat) and enable it
2. Open the command palette and run the command `BRAT: Add a beta plugin for testing`
   - If you want the plugin version to be frozen, use the command `BRAT: Add a beta plugin with frozen version based on a release tag`.
3. Copy `aidenlx/obsidian-zotero` into the modal that opens up
4. Click on `Add Plugin` -- wait a few seconds and BRAT will tell you what is going on
5. After BRAT confirms the installation, Open `Settings` > `Community plugin`
6. Refresh the list of plugins
7. Find the beta plugin you just installed and Enable it.
8. Follow the [setup instructions](#basic-setup)


  </TabItem>
  <TabItem value="manual" label="Manual Install">

:::caution

This method is not recommended.
Only try manual install if you have trouble with all other methods.

:::

<ManualAvailable />

1. Download `obsidian-zotero-plugin.zip` from GitHub Release:<ReleaseLink />
2. Open `Settings` > `Community plugin`
3. Turn on community plugin
4. Open plugin folder
    - If you haven't installed any plugin before, you need to open the plugin folder manually: `<vault>/.obsidian/plugins`
    - If you have installed other plugins, you can use `Open plugin folder` button on the right of the `Installed plugins` section
5. Create a new folder `obsidian-zotero-plugin` and put files from `obsidian-zotero-plugin.zip` into the folder
    - There should be three files in the folder: `main.js`, `manifest.json` and `styles.css`
6. Refresh the list of plugins or restart Obsidian if you have installed other plugins
7. Open `Settings` > `Community plugin` and find `Zotero Plugin` in the list
8. Enable the plugin using toggle
9. Follow the [setup instructions](#basic-setup)

:::note

The `.obsidian` folder may be hidden. On macOS, you should be able to press `Command+Shift+Dot` to show the folder in Finder.

:::

  </TabItem>
</Tabs>

## Basic Setup

Unlike other citation plugins, this plugin read Zotero's database directly to deliver the
best performance with full access to Zotero's data.

To use this plugin, some additional setup is required: 

### Download Binary

The plugin requires a binary (`better-sqlite3`) to connect to Zotero's database. Normally,
a modal will pop up the first time you open the plugin, and ask you to download the binary. Follow the instructions in the modal to download the binary.

<Image img={require("./binary-install-guide.png")} alt="Binary Install Guide" />

This modal will also show up if the binary is broken or outdated, so that you can reset or update the binary.

### Locate Zotero's Database

The plugin needs to know where Zotero's database is located. If you haven't moved your Zotero's database to a different location, the plugin should be able to locate it automatically. In the Settings, you should see a path to your Zotero's database marked green. (If you've installed Better BibTex in Zotero, the path will also be green.)

<Image img={require("./zotero-db-location-config.png")} alt="Zotero Database Location Config" />

If you have moved your Zotero's database, you need to tell the plugin where it is. You can find the path to your Zotero's data directory by opening Zotero, and go to `Preference` > `Advanced` > `Data Directory Location`. 

<Image img={require("./zotero-data-dir.png")} alt="Zotero Database Location" />

